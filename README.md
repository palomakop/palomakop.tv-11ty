# My personal website, built with Eleventy

This repo houses the source files for my website, which is built with the [11ty](https://11ty.dev) static site generator. I didn't use a starter template, but I adapted code from the older [plain html version of my site](https://github.com/palomakop/palomakop.github.io). The site is hosted on Netlify and automatically rebuilds when I commit to this repo.

Visit the site here: [palomakop.tv](https://palomakop.tv)

**Highlights:**
- Custom build configs written in JavaScript for shortcodes and other build-time goodies ([code](https://github.com/palomakop/palomakop.tv-11ty/blob/main/.eleventy.js))
- Custom video embeds via the [Vimeo Developer API](https://developer.vimeo.com/api/guides/start) allow me to get thumbnail images and provide a JavaScript-free fallback via the html5 `video` tag
- A custom music player written in JavaScript for embedding music albums ([demo](https://palomakop.tv/work/sleepwalks-tapes/), [code](https://github.com/palomakop/palomakop.tv-11ty/blob/main/src/js/musicplayer.js))
- [Photoswipe](https://photoswipe.com/) lightbox viewer for image galleries, with a custom-built plugin for iframe video support, and custom icons ([demo - scroll down and click any image to open lightbox](https://palomakop.tv/work/synthetic-forest/))
- Custom templates written in [Liquid](https://shopify.github.io/liquid/)
- Font subsetting with [Python FontTools](https://github.com/fonttools/fonttools) for improved site load performance
- All site code was written from scratch (no starter templates were used)

```html
<!--
╔═╗╔═╗╦  ╔═╗╔╦╗╔═╗╦╔═╔═╗╔═╗╔╦╗╦  ╦
╠═╝╠═╣║  ║ ║║║║╠═╣╠╩╗║ ║╠═╝ ║ ╚╗╔╝
╩  ╩ ╩╩═╝╚═╝╩ ╩╩ ╩╩ ╩╚═╝╩o  ╩  ╚╝

♦ built with 11ty by paloma kop, 2024-present ♦

╔══════════════════════════════════════════╗
║ This website and its contents are        ║
║ released under a Creative Commons        ║
║ Attribution-NonCommercial-ShareAlike     ║
║ 4.0 International License.               ║
╚══════════════════════════════════════════╝
↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓
https://creativecommons.org/licenses/by-nc-sa/4.0/
-->
```

## Notes

- My [website-tools](https://tools.palomakop.tv/) serve as an oblique form of living documentation for this site
- Run `npm run fetch-buttondown` locally to grab my latest newsletter data from buttondown and store it as json in a global data file

## Updates collection/feed

The RSS feed and "recent updates" sections of the homepage and /now page are driven by the three data sources listed below. All items are aggregated into a single collection called "updates", which is sorted by date with the most recent items first.

**Updates added to the frontmatter of a page**

```yaml
updates:
  - date: "2026-02-17"
    message: "Made a [diagram]() of my art practice"
      # an empty markdown link will be replaced by the permalink of the page that this is on
    image: True
      # optional
      # True will make it use the thumbnail image of the page
      # or you can put a URL here to use a different image
    rssMessage: "Hello RSS people!"
      # optional
      # this text will show up in the RSS feed and nowhere else
    archived: True
      # optional
      # this flag will prevent the update item from showing on the homepage and now page,
      # and a note will be added to it in the updates feed page and permalink page.
      # if the page it's on has "archived: True", the value will default to True automatically,
      # but this can be overridden by setting "archived: False"
```

**Updates added to `src/_data/globalUpdates.yaml`**

Same format as above, except there is no page data to pull from, so image and link urls must be set explicitly. Also, there is no `updates` key, all updates are at the top level of the yaml data.

**Newsletter emails stored in `src/_data/buttondown.json`**

This json file is generated by running the `npm run fetch-buttondown` script locally, which fetches all newlsetter emails from the buttondown API. This data is stored in git so that we don't have to call to Buttondown on every build (when I only publish a newsletter every few months).

Each newsletter gets a permalink page, as well as an "update" item with the message: `Sent out a new issue of my [newsletter]()`
